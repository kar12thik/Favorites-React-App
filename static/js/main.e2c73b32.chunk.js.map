{"version":3,"sources":["components/Nav/Navigation.js","components/UI/Card.js","hooks-store/store.js","components/Products/ProductItem.js","containers/Products.js","components/Favorites/FavoriteItem.js","containers/Favorites.js","App.js","hooks-store/products-store.js","index.js"],"names":["Navigation","props","react_default","a","createElement","className","react_router_dom","to","exact","Card","style","children","globalState","listeners","actions","useStore","shouldListen","arguments","length","undefined","setState","useState","useEffect","push","filter","li","actionIdentifier","payload","newState","Object","objectSpread2","_step","_iterator","createForOfIteratorHelper","s","n","done","listener","value","err","e","f","ProductItem","React","memo","console","log","dispatch","components_UI_Card","marginBottom","isFav","title","description","onClick","id","Products","state","products","map","prod","Products_ProductItem","key","isFavorite","FavoriteItem","Favorites","favoriteProducts","p","content","components_Favorites_FavoriteItem","App","Fragment","components_Nav_Navigation","react_router","path","component","ProductsPage","FavoritesPage","userActions","initialState","TOGGLE_FAV","curState","productId","prodIndex","findIndex","newFavStatus","updatedProducts","toConsumableArray","configureProductsStore","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e2c73b32.chunk.js","sourcesContent":["import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './Navigation.css';\n\nconst Navigation = props => {\n  return (\n    <header className=\"main-header\">\n      <nav>\n        <ul>\n          <li>\n            <NavLink to=\"/\" exact>All Products</NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/favorites\">Favorites</NavLink>\n          </li>\n        </ul>\n      </nav>\n    </header>\n  );\n};\n\nexport default Navigation;\n","import React from 'react';\n\nimport './Card.css';\n\nconst Card = props => {\n  return <div className=\"card\" style={props.style}>{props.children}</div>;\n};\n\nexport default Card;\n","import { useState, useEffect } from 'react';\n\nlet globalState = {};\nlet listeners = [];\nlet actions = {};\n\nexport const useStore = (shouldListen = true) => {\n  const setState = useState(globalState)[1];\n\n  const dispatch = (actionIdentifier, payload) => {\n    const newState = actions[actionIdentifier](globalState, payload);\n    globalState = { ...globalState, ...newState };\n\n    for (const listener of listeners) {\n      listener(globalState);\n    }\n  };\n\n  useEffect(() => {\n    if (shouldListen) {\n      listeners.push(setState);\n    }\n\n    return () => {\n      if (shouldListen) {\n        listeners = listeners.filter(li => li !== setState);\n      }\n    };\n  }, [setState, shouldListen]);\n\n  return [globalState, dispatch];\n};\n\nexport const initStore = (userActions, initialState) => {\n  if (initialState) {\n    globalState = { ...globalState, ...initialState };\n  }\n  actions = { ...actions, ...userActions };\n};\n","import React from 'react';\n\nimport Card from '../UI/Card';\nimport { useStore } from '../../hooks-store/store';\nimport './ProductItem.css';\n\nconst ProductItem = React.memo(props => {\n  console.log('RENDERING');\n  const dispatch = useStore(false)[1];\n\n  const toggleFavHandler = () => {\n    // toggleFav(props.id);\n    dispatch('TOGGLE_FAV', props.id);\n  };\n\n  return (\n    <Card style={{ marginBottom: '1rem' }}>\n      <div className=\"product-item\">\n        <h2 className={props.isFav ? 'is-fav' : ''}>{props.title}</h2>\n        <p>{props.description}</p>\n        <button\n          className={!props.isFav ? 'button-outline' : ''}\n          onClick={toggleFavHandler}\n        >\n          {props.isFav ? 'Un-Favorite' : 'Favorite'}\n        </button>\n      </div>\n    </Card>\n  );\n});\n\nexport default ProductItem;\n","import React, { useContext } from 'react';\n\nimport ProductItem from '../components/Products/ProductItem';\nimport { useStore } from '../hooks-store/store';\nimport './Products.css';\n\nconst Products = props => {\n  const state = useStore()[0];\n  return (\n    <ul className=\"products-list\">\n      {state.products.map(prod => (\n        <ProductItem\n          key={prod.id}\n          id={prod.id}\n          title={prod.title}\n          description={prod.description}\n          isFav={prod.isFavorite}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default Products;\n","import React from 'react';\n\nimport Card from '../UI/Card';\nimport './FavoriteItem.css';\n\nconst FavoriteItem = props => {\n  return (\n    <Card style={{ marginBottom: '1rem' }}>\n      <div className=\"favorite-item\">\n        <h2>{props.title}</h2>\n        <p>{props.description}</p>\n      </div>\n    </Card>\n  );\n};\n\nexport default FavoriteItem;\n","import React, { useContext } from 'react';\n\nimport FavoriteItem from '../components/Favorites/FavoriteItem';\nimport { useStore } from '../hooks-store/store';\nimport './Products.css';\n\nconst Favorites = props => {\n  const state = useStore()[0];\n  const favoriteProducts = state.products.filter(p => p.isFavorite);\n  let content = <p className=\"placeholder\">Got no favorites yet!</p>;\n  if (favoriteProducts.length > 0) {\n    content = (\n      <ul className=\"products-list\">\n        {favoriteProducts.map(prod => (\n          <FavoriteItem\n            key={prod.id}\n            id={prod.id}\n            title={prod.title}\n            description={prod.description}\n          />\n        ))}\n      </ul>\n    );\n  }\n  return content;\n};\n\nexport default Favorites;\n","import React from 'react';\nimport { Route } from 'react-router-dom';\n\nimport Navigation from './components/Nav/Navigation';\nimport ProductsPage from './containers/Products';\nimport FavoritesPage from './containers/Favorites';\n\nconst App = props => {\n  return (\n    <React.Fragment>\n      <Navigation />\n      <main>\n        <Route path=\"/\" component={ProductsPage} exact />\n        <Route path=\"/favorites\" component={FavoritesPage} />\n      </main>\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import { initStore } from './store';\n\nconst configureStore = () => {\n  const actions = {\n    TOGGLE_FAV: (curState, productId) => {\n      const prodIndex = curState.products.findIndex(p => p.id === productId);\n      const newFavStatus = !curState.products[prodIndex].isFavorite;\n      const updatedProducts = [...curState.products];\n      updatedProducts[prodIndex] = {\n        ...curState.products[prodIndex],\n        isFavorite: newFavStatus\n      };\n      return { products: updatedProducts };\n    }\n  };\n  initStore(actions, {\n    products: [\n      {\n        id: 'p1',\n        title: 'Red Scarf',\n        description: 'A pretty red scarf.',\n        isFavorite: false\n      },\n      {\n        id: 'p2',\n        title: 'Blue T-Shirt',\n        description: 'A pretty blue t-shirt.',\n        isFavorite: false\n      },\n      {\n        id: 'p3',\n        title: 'Green Trousers',\n        description: 'A pair of lightly green trousers.',\n        isFavorite: false\n      },\n      {\n        id: 'p4',\n        title: 'Orange Hat',\n        description: 'Street style! An orange hat.',\n        isFavorite: false\n      }\n    ]\n  });\n};\n\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n\nimport './index.css';\nimport App from './App';\nimport configureProductsStore from './hooks-store/products-store';\n\nconfigureProductsStore();\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}